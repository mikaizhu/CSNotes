# 目录
<!--ts-->
* [目录](#目录)
* [推荐教程](#推荐教程)
* [CS144教程](#cs144教程)
   * [环境配置](#环境配置)
   * [什么是socket?什么是套接字？](#什么是socket什么是套接字)
   * [socket包括几个步骤？](#socket包括几个步骤)
* [知识点](#知识点)
* [计算机网络体系结构的形成](#计算机网络体系结构的形成)
* [OSI参考模型](#osi参考模型)
* [网络端口](#网络端口)

<!-- Added by: zwl, at: Thu Mar 24 21:37:37 CST 2022 -->

<!--te-->
# 推荐教程

- [B站计算机网络视频](https://www.bilibili.com/video/BV1c4411d7jb?from=search&seid=1657598163721616403&spm_id_from=333.337.0.0) 
- [B站视频笔记](https://github.com/BloothOfYouth/Computer-Network-Notes) 
- [cpp socket通信教程](http://c.biancheng.net/cpp/socket/):
 这里面还有很多其他知识点，可以查看

- [python
  版本网络通信](https://github.com/moranzcw/Computer-Networking-A-Top-Down-Approach-NOTES):
  该教程使用书籍**计算机网络-自顶向下** 


[【↥ back to top】](#目录)
# CS144教程
## 环境配置

```
wget https://web.stanford.edu/class/cs144/vm_howto/setup_dev_env.sh
chmod +x setup_dev_env.sh
./setup_dev_env
sudo apt-get install doxygen clang-format
sudo apt install cmake
git clone https://gitee.com/kangyupl/sponge
git checkout -b master origin/master
mkdir build && cd build
cmake ..
make format
make -j4
make check_lab0
```

## 什么是socket?什么是套接字？

参考：http://c.biancheng.net/view/2123.html

socket翻译过来是插座，要想两个服务器通信，必须要服务器都链接到互联网，然后接入到同一个套接字(socket)中，才能进行数据交换。
Linux系统中，一切都是文件，套接字也如此，使用`socket()`
函数，可以返回该文件的**文件描述符** ,
从而找到套接字文件，然后使用编程，对文件操作，即可控制数据的传输了。

**socket只是一个接口，并不属于任何网络层次!** 

## socket包括几个步骤？

参考：http://c.biancheng.net/cpp/html/3029.html

要想和另一个计算机通信，必须包括：

- 知道对方IP，从而可以通过互联网找到对方电脑
- 知道程序端口Port，从而知道与哪个具体程序通信，进行数据传输，因为不同端口提供的服务不同，如邮件，web服务...
- 传输协议；TCP/IP是一个协议族，其中包含了很多传输协议，如TCP，IP等，计算机双方都必须遵守，才能正确传输数据
- 数据的传输方式；数据的传输有多种方式，常用的两个为SOCK:STREAM这种方式会检查数据的准确性，所以效率很低，另一种是SOCK:DGRAM，不会检查数据准确性，效率高


[【↥ back to top】](#目录)
# 知识点

计算机网络的概念：

计算机网络就是通过通信设备和计算机软件将一个个独立的计算机设备，互相进行通信连接。使得大家能资源共享，互相联通.(硬件和软件都需要)

计算机网络按覆盖范围可以分为：
- 广域网 WAN (Wide Area Network 使用范围覆盖全国)
- 局域网 LAN (Local Area Network 覆盖1000米范围左右，学校大小)
- 城域网 MAN (Metropolitan Area Network 覆盖一个城市大小)
- 个人区域网 PAN (Personal Area Network 比如自己设置的路由器)


速率：

- 比特（bit）是计算机中数据量的单位，也是信息论中使用的信息量的单位。
- Bit 来源于 binary digit，意思是一个“二进制数字”，因此一个比特就是二进制数字中的一个 1 或 0。
- 速率即数据率(data rate)或比特率(bit rate)是计算机网络中最重要的一个性能指标。速率的单位是 b/s，或kb/s, Mb/s, Gb/s 等
速率往往是指额定速率或标称速率。

> 计算机中内存也有MB，GB等单位，差别在于计算机内存中B是大写的，并且内存中地址
> 是以字节（1byte = 8bits）为单位，单位之间差距为2的10次方即1024. 计算机网络中
> 的速率是10的3次方为差距，8b/s表示计算机每秒可以传输8bit的数据出去。

带宽：

- “带宽”(bandwidth)本来是指信号具有的频带宽度，单位是赫（或千赫、兆赫、吉赫等）。
- 现在“带宽”是数字信道所能传送的“最高数据率”的同义语，单位是“比特每秒”，或 b/s (bit/s)。
- 传输速率一般小于信道带宽

吞吐量：

- 吞吐量(throughput)表示在单位时间内通过某个网络（或信道、接口）的数据量。

> 比如两个服务器对同一个网络端口分别传输数据为10bit/s & 10bit/s，那么目前的吞
> 吐量为30bit/s

时延(delay 或 latency)由以下部分组成:
- 发送时延(数据的第一个bit到链路上到最后一个bit到链路上所用的时间, 受机器影响)
- 传播时延(链路上数据的最后一个bit到达接收端的时间, 电磁波传播速率)
- 排队时延(等待路由器处理的等待时间)
- 处理时延(路由器处理数据的时间)

时延带宽积:
- 链路的时延带宽积又称为以比特为单位的链路长度。
- 链路上堆积的bit数量，单位为bit.

利用率：

- 信道利用率指出某信道有百分之几的时间是被利用的（有数据通过）。完全空闲的信道的利用率是零。
- 还一个网络利用率(不知道什么场景可以用)
- 利用率越高，则数据处理的等待时间就越长


[【↥ back to top】](#目录)
# 计算机网络体系结构的形成

- 相互通信的两个计算机系统必须高度协调工作才行，而这种“协调”是相当复杂的。
- “分层”可将庞大而复杂的问题，转化为若干较小的局部问题，而这些较小的局部问题就比较易于研究和处理。

假如我要寄送一个快递，流程如下：

- 准备好物品
- 给物品包装，防止运输途中弄坏
- 给物品用盒子包装
- 开始运输货物

对应的：
- 将包装解开
- 将盒子解开
- 开始使用

对应计算机网络中的分层，假如第一层是准备好物品，第二层为给物品包装，第三层为给
物品加个盒子等。每一层只做特定的功能，第二层只对第一层提供服务(如将物品包装),
第三层只对第二层进行服务, 最后一层会用到前面所有的服务。所以分层服务是垂直方向
，协议是水平方向(发送端的给物品用盒子包装，对应接收端的打开盒子，拿出物品),

协议的重要组成部分(大家都应该准守)：

- 语法 数据与控制信息的结构或格式 。
- 语义 需要发出何种控制信息，完成何种动作以及做出何种响应。
- 同步 事件实现顺序的详细说明。

分层的好处
- 各层之间是独立的。
- 灵活性好。
- 结构上可分割开。
- 易于实现和维护。
- 能促进标准化工作。

计算机网络体系只是框架，实现还得靠硬件


[【↥ back to top】](#目录)
# OSI参考模型


如果我现在要用设备A向设备B发送消息:

- 消息会通过设备A经过很多层，每层都会通过预先设定好的协议给消息A进行包装, 包装是为了保
  证A数据不容易出错，并且能传到指定的地点

- 设备B也有同样的层数，每层都是对原来层进行解包，所以对应每层的结构都是一样的,
  将数据解开来


[【↥ back to top】](#目录)
# 网络端口

网络端口的含义，通常我们打开一个网页，比如baidu.com, 其实后面是要跟某个端口的
，即我们，客户端，访问服务端的某个端口，完成通信的过程. 端口会自动将请求传输给
对应的进程，让程序来处理信息。
